<html>
    <head>
        <link rel="stylesheet" href="style.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Roboto+Slab:wght@600&display=swap" rel="stylesheet"> 
    </head>
    <body>
        <h1 class="centered">Whitespacer</h1>
        <p class="centered">Paste any text to see a visual representation of whitespace characters</p>

        <div class="flex-container">
            <textarea id="input" class="text-container"></textarea>
            <code id="output" class="text-container"></code>
        </div>
        <div class="button-container">
            <button onclick="transform()" class="action-button">Transform</button>
        </div>
    </body>


    
<script>

// https://en.wikipedia.org/wiki/Unicode_control_characters
substitutions = {};
substitutions[" "] = {
    display: "␠",
    id: "space"
};
substitutions["	"] = {
    display: "␉",
    id: "tab"
};
substitutions["\n"] = {
    display: "␊<br/>",
    id: "line-feed"
};
substitutions["\r"] = {
    display: "␍",
    id: "carriage-return"
}

function transformWhitespace(inString) {
    let result = inString;
    for (const [key, value] of Object.entries(substitutions)) {
        substitution = "<a class=\"whitespace\" href=\"characters.html#" + value.id + "\">" + value.display + "</a>";
        result = result.replaceAll(key, substitution);
    }
    return result;
}

function transform() {
    inString = document.getElementById("input").value;

    outString = transformWhitespace(inString);
    document.getElementById("output").innerHTML = outString;
}
</script>
</html>
